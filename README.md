# 基于IPv4的流媒体广播系统
一个简单的流媒体项目，基于客户端/服务器模型（C/S）开发，采用UDP组播技术，实现MP3格式音乐广播系统。服务器端采用多线程处理频道信息，实现媒体库（MP3）读取并进行流量控制（令牌桶），并通过UDP组播发送；客户端采用多进程，实现父进程接受来自网络的数据，通过进程间通信技术管道发送给子进程，子进程进行数据解码并输出到特定频道。

## 设计需求
- 实现一个音乐广播系统
- 考虑到流量控制
- 基于客户端/服务器模型，服务器设计成守护进程。
- 用户可选择音乐频道，同时考虑加入节目单频道

## 需求分析

- 由于是一个广播系统，C/S之间的通讯采用无连接的**udp组播**，组播相对于广播更加灵活并且节省资源，故采用组播技术
- 由于需要考虑到节目单频道，让用户可以提前了解到每一个频道的类型，所以在各音乐频道内容的基础上，加上**节目单频道**，这样无需遍历每一个频道，就可以知道各频道的内容，从而针对性的选择。因此需要规定节目单数据格式和节目频道数据格式
- 由于广播的内容是音乐（后续可延伸扩展为视频），所以需要进行**流量控制**。流量控制采用[令牌桶](https://baike.baidu.com/item/令牌桶算法/6597000)实现，可设置传输的速率。
- 由于频道数目媒体库信息调整，故采用**多线程**获取并发送频道数据。不涉及多线程之间的通讯，需要考虑的**令牌桶**资源的互斥访问。
- 服务器最后以**守护进程**方式运行，系统运行过程中的数据采用**系统日志**保存。


## 系统框架
<div align=center>
<img width = '1057' height = '733' src = "https://github.com/missFuture/zte-com2020/blob/master/images/服务端-客户端.png"/>
</div>
